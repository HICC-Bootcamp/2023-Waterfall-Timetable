<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div style="text-align:center"> 출석:Y 결석:N 지각:L
    <br><br>
    번호 &nbsp; 출결
    <br>
        <form>
        <script>
            function validate(e) {

                console.log('validate');
                if (e.value != 'Y' && e.value != 'N' && e.value != 'L') {
                    e.value = '';
                }

            }

            for (var i = 1; i < 31; i++) {
                document.write("<label for='" + i + "student'>");
                document.write(i + '&nbsp; &nbsp; &nbsp;');
                document.write("</lable>");
                document.write("<input type='text' name='attend' size='1' maxlength='1'>");

                document.write("<br>");
                //$(documen(/[^YNL]/gi, ""));
                //});t).on("keyup", "input[attendOnly]", function () {
                //    $(this).val($(this).val().replace
                let attend = document.getElementsByName('attend')[i - 1];
                let data = {{
                    data | tojson
                }}[i - 1];
                console.log(data);
                attend.value = data
                attend.addEventListener('input', function (e) {
                    if (attend.value != 'Y' && attend.value != 'N' && attend.value != 'L') {
                        console.log(attend.value + ' validate');
                        attend.value = '';
                    }
                });

            }
        </script>
        <script>
            function submit_data(e) {
                let submit_elements = document.getElementsByName("attend");
                let submit_result = []

                for (var i = 0; i < submit_elements.length; i++) {
                    submit_result[i] = submit_elements[i].value;
                }

        // excel로 input value값 가져오기
        for(var j = 0; j < 30; j++)
        {
            var Text_result = [];
            Text_result[j] = document.getElementById('attend.value').value;
        }




                $.ajax({
                    url: "/myfunction",
                    type: "POST",
                    contentType:'application/json',
                    data:
                        JSON.stringify(submit_result)
                    ,
                    success: function (response) {
                    }
                });
            }

        </script>
        <input type="button" value="저장" onclick="submit_data">
    </form>
    <br><br>

</div>
</body>
</html>